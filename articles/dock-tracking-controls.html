<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Dock Tracking Controls | Dock for Avalonia </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Dock Tracking Controls | Dock for Avalonia ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/wieslawsoltes/Dock/blob/master/docfx/articles/dock-tracking-controls.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="dock-tracking-controls">Dock Tracking Controls</h1>

<p>Dock tracks the UI elements that represent each dockable at runtime.  The <code>IFactory</code> interface exposes several collections so applications can look up or manage these controls when they need to manipulate the visual tree directly.</p>
<h2 id="why-controls-are-tracked">Why controls are tracked</h2>
<p>Dock layouts are described using view models but the framework also creates visual controls for each dockable, window and host.  When advanced scenarios require accessing these visuals—such as customizing the appearance of a tab strip or integrating with a platform windowing API—the factory needs to know which control belongs to which dockable.  The tracking collections provide this mapping.</p>
<h2 id="tracking-collections">Tracking collections</h2>
<p>The following properties on <code>IFactory</code> keep track of runtime controls.  Each dictionary uses the dockable as the key so it is easy to locate the corresponding control.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>VisibleDockableControls</code></td>
<td>Mapping of visible dockables to their controls inside a dock.</td>
</tr>
<tr>
<td><code>VisibleRootControls</code></td>
<td>Mapping of root dockables to the control hosting them, typically a window.</td>
</tr>
<tr>
<td><code>PinnedDockableControls</code></td>
<td>Controls for dockables that are currently pinned.</td>
</tr>
<tr>
<td><code>PinnedRootControls</code></td>
<td>Root controls for pinned dockables.</td>
</tr>
<tr>
<td><code>TabDockableControls</code></td>
<td>Controls displayed in a tab strip.</td>
</tr>
<tr>
<td><code>TabRootControls</code></td>
<td>Root controls for dockables in tab strips.</td>
</tr>
<tr>
<td><code>ToolControls</code></td>
<td>Lookup for controls that present tools.</td>
</tr>
<tr>
<td><code>DocumentControls</code></td>
<td>Lookup for controls that present documents.</td>
</tr>
<tr>
<td><code>DockControls</code></td>
<td>List of <code>DockControl</code> instances displaying layouts.</td>
</tr>
<tr>
<td><code>HostWindows</code></td>
<td>List of floating windows created by the factory.</td>
</tr>
</tbody>
</table>
<p>These collections are populated by Dock.Avalonia controls as they attach and detach from the visual tree (for example, <code>DockControl</code> registers itself in <code>DockControls</code>, while <code>DockableControl</code>, <code>DocumentContentControl</code>, and <code>ToolContentControl</code> update the dockable mappings). They can be inspected or modified at runtime if you create custom host controls or windows.</p>
<p><code>DockableControl</code> drives most of this tracking and uses its <code>TrackingMode</code> property
to decide which dictionary to update. When replacing templates, keep it in place.
See <a href="dock-dockable-control.html">DockableControl tracking</a> for details.</p>
<h2 id="typical-usage">Typical usage</h2>
<p>Most applications rely on these collections indirectly via the factory helpers.  For example <code>ShowWindows</code> iterates <code>HostWindows</code> to open any floating tools and documents.  You can also retrieve a specific control:</p>
<pre><code class="lang-csharp">var documentControl = factory.VisibleDockableControls[myDocument];
</code></pre>
<p>When implementing your own visuals or integrating with other frameworks, update the dictionaries accordingly when controls are created or destroyed.  Removing entries prevents stale references after dockables are closed.</p>
<p>For an overview of all guides see the <a href="README.html">documentation index</a>.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/wieslawsoltes/Dock/blob/master/docfx/articles/dock-tracking-controls.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
