<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Quick Start | Dock for Avalonia </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Quick Start | Dock for Avalonia ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/wieslawsoltes/Dock/blob/master/docfx/articles/quick-start.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="quick-start">Quick Start</h1>

<p>This short guide shows how to set up Dock in a new Avalonia application. You will install the NuGet packages, create a minimal layout and run it.</p>
<h2 id="step-by-step-tutorial">Step-by-step tutorial</h2>
<ol>
<li><p><strong>Create a new Avalonia project</strong></p>
<pre><code class="lang-bash">dotnet new avalonia.app -o DockQuickStart
cd DockQuickStart
</code></pre>
</li>
<li><p><strong>Install the Dock packages</strong></p>
<pre><code class="lang-bash">dotnet add package Dock.Avalonia
dotnet add package Dock.Avalonia.Themes.Fluent
# or use Dock.Avalonia.Themes.Simple
</code></pre>
<p>Install the model layer that matches the approach you use below:</p>
<pre><code class="lang-bash"># Option A (code-first factory)
dotnet add package Dock.Model.Mvvm

# Option B (XAML layout, ItemsSource, DocumentTemplate)
dotnet add package Dock.Model.Avalonia
</code></pre>
<p><strong>Optional packages for specific scenarios:</strong></p>
<pre><code class="lang-bash"># For serialization (choose one):
dotnet add package Dock.Serializer.Newtonsoft        # JSON (Newtonsoft.Json)
dotnet add package Dock.Serializer.SystemTextJson    # JSON (System.Text.Json) 
dotnet add package Dock.Serializer.Protobuf          # Binary (protobuf-net)
dotnet add package Dock.Serializer.Xml               # XML
dotnet add package Dock.Serializer.Yaml              # YAML

# For dependency injection:
dotnet add package Microsoft.Extensions.DependencyInjection

# For diagnostics and debugging:
dotnet add package Dock.Avalonia.Diagnostics
</code></pre>
<p>See <a href="dock-dependency-injection.html">dependency injection</a> for manual Dock registrations.</p>
</li>
<li><p><strong>Set up View Templates (Optional)</strong></p>
<p>If you rely on view models via <code>Context</code>, register a view locator or data templates for your document and tool views. If you define <code>Document.Content</code> or use <code>DocumentTemplate</code> in XAML, you can skip this step.</p>
<p><strong>Option A: Static View Locator with Source Generators (Recommended)</strong></p>
<p>Add the StaticViewLocator package:</p>
<pre><code class="lang-bash">dotnet add package StaticViewLocator
</code></pre>
<p>Create a <code>ViewLocator.cs</code> file:</p>
<pre><code class="lang-csharp">using System;
using Avalonia.Controls;
using Avalonia.Controls.Templates;
using Dock.Model.Core;
using StaticViewLocator;

namespace DockQuickStart;

[StaticViewLocator]
public partial class ViewLocator : IDataTemplate
{
    public Control? Build(object? data)
    {
        if (data is null)
            return null;

        var type = data.GetType();
        if (s_views.TryGetValue(type, out var func))
            return func.Invoke();

        throw new Exception($&quot;Unable to create view for type: {type}&quot;);
    }

    public bool Match(object? data)
    {
        if (data is null)
        {
            return false;
        }

        var type = data.GetType();
        return data is IDockable || s_views.ContainsKey(type);
    }
}
</code></pre>
<p><strong>Option B: Convention-Based View Locator (Avalonia Template Style)</strong></p>
<pre><code class="lang-csharp">using System;
using Avalonia.Controls;
using Avalonia.Controls.Templates;
using Dock.Model.Core;

namespace DockQuickStart;

public class ViewLocator : IDataTemplate
{
    public Control? Build(object? data)
    {
        if (data is null)
            return null;

        var name = data.GetType().FullName!.Replace(&quot;ViewModel&quot;, &quot;View&quot;);
        var type = Type.GetType(name);

        if (type != null)
            return (Control)Activator.CreateInstance(type)!;

        return new TextBlock { Text = &quot;Not Found: &quot; + name };
    }

    public bool Match(object? data)
    {
        if (data is null)
        {
            return false;
        }

        if (data is IDockable)
        {
            return true;
        }

        var name = data.GetType().FullName?.Replace(&quot;ViewModel&quot;, &quot;View&quot;);
        return Type.GetType(name) is not null;
    }
}
</code></pre>
</li>
<li><p><strong>Add Dock styles (and View Locator if used)</strong></p>
<p>Reference the theme and register the view locator in <code>App.axaml</code> if you use one:</p>
<pre><code class="lang-xaml">&lt;Application xmlns=&quot;https://github.com/avaloniaui&quot;
             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
             xmlns:local=&quot;using:DockQuickStart&quot;
             x:Class=&quot;DockQuickStart.App&quot;&gt;

  &lt;Application.DataTemplates&gt;
    &lt;local:ViewLocator /&gt;
  &lt;/Application.DataTemplates&gt;

  &lt;Application.Styles&gt;
    &lt;FluentTheme Mode=&quot;Dark&quot; /&gt;
    &lt;DockFluentTheme /&gt;
  &lt;/Application.Styles&gt;
&lt;/Application&gt;
</code></pre>
</li>
<li><p><strong>Add a simple layout</strong></p>
<p><strong>Option A: Traditional MVVM Approach</strong></p>
<p>Create a <code>DockFactory</code> that derives from <code>Dock.Model.Mvvm.Factory</code> and returns a basic layout:</p>
<pre><code class="lang-csharp">using Dock.Model.Core;
using Dock.Model.Mvvm;
using Dock.Model.Mvvm.Controls;

public class DockFactory : Factory
{
    public override IRootDock CreateLayout()
    {
        var document = new Document { Id = &quot;Doc1&quot;, Title = &quot;Document&quot; };

        var root = CreateRootDock();
        root.VisibleDockables = CreateList&lt;IDockable&gt;(
            new DocumentDock
            {
                VisibleDockables = CreateList&lt;IDockable&gt;(document),
                ActiveDockable = document
            });
        root.DefaultDockable = root.VisibleDockables[0];
        return root;
    }
}
</code></pre>
<p><strong>Option B: Modern ItemsSource Approach (Recommended)</strong></p>
<p>For more dynamic document management, use the ItemsSource approach. First, create a simple document model:</p>
<pre><code class="lang-csharp">using System.ComponentModel;
using System.Runtime.CompilerServices;

public class FileDocument : INotifyPropertyChanged
{
    private string _title = &quot;Untitled&quot;;
    private string _content = &quot;&quot;;

    public string Title
    {
        get =&gt; _title;
        set =&gt; SetProperty(ref _title, value);
    }

    public string Content
    {
        get =&gt; _content;
        set =&gt; SetProperty(ref _content, value);
    }

    public bool CanClose { get; set; } = true;

    public event PropertyChangedEventHandler? PropertyChanged;

    protected virtual void OnPropertyChanged([CallerMemberName] string? propertyName = null)
    {
        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
    }

    protected bool SetProperty&lt;T&gt;(ref T field, T value, [CallerMemberName] string? propertyName = null)
    {
        if (EqualityComparer&lt;T&gt;.Default.Equals(field, value)) return false;
        field = value;
        OnPropertyChanged(propertyName);
        return true;
    }
}
</code></pre>
<p>Then create a MainWindow view model:</p>
<pre><code class="lang-csharp">using System.Collections.ObjectModel;

public class MainWindowViewModel
{
    public ObservableCollection&lt;FileDocument&gt; Documents { get; } = new()
    {
        new FileDocument { Title = &quot;Document 1&quot;, Content = &quot;Content of document 1&quot; },
        new FileDocument { Title = &quot;Document 2&quot;, Content = &quot;Content of document 2&quot; }
    };
}
</code></pre>
<p>For the ItemsSource approach, set up the layout in XAML (<code>MainWindow.axaml</code>):</p>
<pre><code class="lang-xaml">&lt;Window x:Class=&quot;DockQuickStart.MainWindow&quot;
        xmlns=&quot;https://github.com/avaloniaui&quot;
        xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
        xmlns:dock=&quot;https://github.com/avaloniaui&quot;&gt;
&lt;DockControl InitializeLayout=&quot;True&quot; InitializeFactory=&quot;True&quot;&gt;
    &lt;DockControl.Factory&gt;
        &lt;Factory /&gt;
    &lt;/DockControl.Factory&gt;
    &lt;RootDock&gt;
        &lt;DocumentDock ItemsSource=&quot;{Binding Documents}&quot;&gt;
            &lt;DocumentDock.DocumentTemplate&gt;
                &lt;DocumentTemplate&gt;
                    &lt;TextBox Text=&quot;{Binding Context.Content}&quot; AcceptsReturn=&quot;True&quot; /&gt;
                &lt;/DocumentTemplate&gt;
            &lt;/DocumentDock.DocumentTemplate&gt;
        &lt;/DocumentDock&gt;
    &lt;/RootDock&gt;
&lt;/DockControl&gt;
&lt;/Window&gt;
</code></pre>
<p>Initialize the view model in <code>MainWindow.axaml.cs</code>:</p>
<pre><code class="lang-csharp">public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        DataContext = new MainWindowViewModel();
    }
}
</code></pre>
<p><strong>For Traditional MVVM (Option A)</strong>, initialize the layout in <code>MainWindow.axaml.cs</code>:</p>
<pre><code class="lang-csharp">public partial class MainWindow : Window
{
    private readonly DockFactory _factory = new();

    public MainWindow()
    {
        InitializeComponent();
        var layout = _factory.CreateLayout();
        _factory.InitLayout(layout);
        Dock.Layout = layout;
    }
}
</code></pre>
<p>And add a <code>DockControl</code> placeholder to <code>MainWindow.axaml</code>:</p>
<pre><code class="lang-xaml">&lt;DockControl x:Name=&quot;Dock&quot; /&gt;
</code></pre>
<blockquote>
<p><strong>ðŸ’¡ Tip</strong>: The ItemsSource approach (Option B) is recommended for most scenarios as it provides automatic document management, data binding, and easier maintenance. See the <a href="dock-itemssource.html">DocumentDock ItemsSource guide</a> for more details.</p>
</blockquote>
<p>For instructions on mapping documents and tools to views see the <a href="dock-views.html">Views guide</a>.</p>
</li>
<li><p><strong>Run the application</strong></p>
<pre><code class="lang-bash">dotnet run
</code></pre>
</li>
</ol>
<p>The window should show document tabs that can be opened, closed, and managed automatically. The ItemsSource approach automatically creates document instances from your data models and keeps them synchronized with the collection.</p>
<p>For more advanced scenarios including tools, complex layouts, and custom content, see:</p>
<ul>
<li><a href="dock-itemssource.html">DocumentDock ItemsSource guide</a> - Complete ItemsSource documentation</li>
<li><a href="dock-content-guide.html">Document and Tool Content Guide</a> - Comprehensive content setup</li>
<li><a href="dock-mvvm.html">MVVM guide</a> - Traditional MVVM approach</li>
<li><a href="dock-complex-layouts.html">Complex layout tutorials</a> - Multi-pane layouts</li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/wieslawsoltes/Dock/blob/master/docfx/articles/quick-start.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
